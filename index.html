<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Daily Fitness Tracker — Zach & Kimberly</title>
  <style>
    :root{
      --bg:#0f172a; /* slate-900 */
      --card:#111827; /* gray-900 */
      --muted:#94a3b8; /* slate-400 */
      --text:#e5e7eb; /* gray-200 */
      --accent:#22c55e; /* green-500 */
      --accent-2:#38bdf8; /* sky-400 */
      --danger:#ef4444; /* red-500 */
      --ring: rgba(56,189,248,.45);
    }
    html,body{height:100%}
    body{margin:0;background:linear-gradient(180deg,#0b1225,#0f172a);color:var(--text);font:16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji"}
    .container{max-width:900px;margin:0 auto;padding:24px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
    h1{font-size:clamp(22px,3vw,28px);margin:0;font-weight:700;letter-spacing:.2px}
    .date{color:var(--muted);font-size:14px}
    .tabs{display:flex;gap:10px;flex-wrap:wrap}
    .tab{appearance:none;border:1px solid rgba(148,163,184,.25);background:#0b1220;color:var(--text);padding:10px 14px;border-radius:12px;cursor:pointer;transition:.2s transform,.2s box-shadow}
    .tab[aria-selected="true"]{outline:2px solid var(--ring);box-shadow:0 0 0 4px rgba(56,189,248,.12) inset}
    .tab:hover{transform:translateY(-1px)}
    .grid{display:grid;grid-template-columns:1fr;gap:12px;margin-top:18px}
    @media(min-width:720px){.grid{grid-template-columns:1fr 1fr}}

    details{background:linear-gradient(180deg,#0f172a,#0b1220);border:1px solid rgba(148,163,184,.2);border-radius:16px;overflow:hidden}
    summary{list-style:none;cursor:pointer;padding:14px 16px;display:flex;align-items:center;justify-content:space-between;font-weight:600}
    summary::-webkit-details-marker{display:none}
    .badge{font-size:12px;color:var(--muted);border:1px solid rgba(148,163,184,.25);padding:4px 8px;border-radius:999px}
    .content{padding:10px 16px 16px}

    .checklist{display:grid;gap:10px}
    .item{background:rgba(15,23,42,.5);border:1px solid rgba(148,163,184,.15);border-radius:12px;padding:10px;display:flex;align-items:center;gap:10px}
    .item input[type="checkbox"]{width:18px;height:18px}
    .item label{flex:1}
    .small{font-size:13px;color:var(--muted)}

    .row{display:flex;gap:10px;flex-wrap:wrap}
    .btn{border:1px solid rgba(148,163,184,.3);background:#0b1220;color:var(--text);padding:10px 12px;border-radius:12px;cursor:pointer}
    .btn:hover{filter:brightness(1.15)}
    .btn.primary{border-color:rgba(34,197,94,.4)}
    .btn.danger{border-color:rgba(239,68,68,.4);color:#fecaca}

    .card{background:linear-gradient(180deg,#0f172a,#0b1220);border:1px solid rgba(148,163,184,.2);border-radius:16px;padding:14px}
    .muted{color:var(--muted)}
    .water{display:flex;align-items:center;gap:10px}
    input[type="number"],select{background:#0b1220;border:1px solid rgba(148,163,184,.3);color:var(--text);padding:8px 10px;border-radius:10px}
    .footer{margin-top:26px;color:var(--muted);font-size:12px}
    .sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1>Daily Fitness Tracker</h1>
        <div class="date" id="today"></div>
      </div>
      <nav class="tabs" role="tablist" aria-label="Profiles">
        <button class="tab" role="tab" id="tab-zach" aria-selected="true" aria-controls="panel-zach">Zach</button>
        <button class="tab" role="tab" id="tab-kimberly" aria-selected="false" aria-controls="panel-kimberly">Kimberly</button>
      </nav>
    </header>

    <!-- Zach Panel -->
    <section id="panel-zach" role="tabpanel" aria-labelledby="tab-zach">
      <div class="row" style="margin:12px 0 6px">
        <button class="btn primary" data-reset="zach">Reset Today (Zach)</button>
        <button class="btn" data-expand="zach">Expand All</button>
        <button class="btn" data-collapse="zach">Collapse All</button>
      </div>
      <div class="grid" id="grid-zach"></div>
    </section>

    <!-- Kimberly Panel -->
    <section id="panel-kimberly" role="tabpanel" aria-labelledby="tab-kimberly" hidden>
      <div class="row" style="margin:12px 0 6px">
        <button class="btn primary" data-reset="kim">Reset Today (Kimberly)</button>
        <button class="btn" data-expand="kim">Expand All</button>
        <button class="btn" data-collapse="kim">Collapse All</button>
      </div>
      <div class="grid" id="grid-kim"></div>
    </section>

    <div class="footer">Tip: Edit the checklist items inside the script at the bottom to customize meals and exercises. Progress auto-saves for the current day and resets automatically tomorrow.</div>
  </div>

  <script>
    // === CONFIG ===
    // Customize the daily checklists for each person.
    const CONFIG = {
      zach: {
        sections: [
          {
            title: "Meals (Zach)", badge: "diet",
            items: [
              { id:"breakfast-protein", label:"Breakfast: high-protein (eggs/yogurt/shake)" },
              { id:"lunch-wrap", label:"Lunch: lean protein wrap or salad" },
              { id:"snack", label:"Afternoon snack: fruit + protein (bar, nuts)" },
              { id:"dinner", label:"Dinner: protein + veg + smart carb" }
            ]
          },
          {
            title: "Workout (Zach)", badge: "exercise",
            items: [
              { id:"warmup", label:"5–10 min treadmill warm-up" },
              { id:"strength", label:"Strength session (bench/dumbbells/kettlebell)" },
              { id:"cardio", label:"15–20 min treadmill intervals or steady pace" },
              { id:"stretch", label:"5 min cooldown + stretch" }
            ]
          },
          {
            title: "Hydration & Habits", badge: "health",
            items: [
              { id:"water80", label:"Water: 80–100 oz" },
              { id:"steps7k", label:"7–8k steps total (include walks)" },
              { id:"sleep7h", label:"Sleep: target 7+ hours" }
            ]
          }
        ]
      },
      kim: {
        sections: [
          {
            title: "Meals (Kimberly)", badge: "diet",
            items: [
              { id:"breakfast-protein", label:"Breakfast: high-protein (eggs/yogurt/shake)" },
              { id:"lunch-wrap", label:"Lunch: lean protein wrap or salad" },
              { id:"snack", label:"Afternoon snack: fruit + protein (bar, nuts)" },
              { id:"dinner", label:"Dinner: protein + veg + smart carb" }
            ]
          },
          {
            title: "Workout (Kimberly)", badge: "exercise",
            items: [
              { id:"warmup", label:"5–10 min treadmill warm-up" },
              { id:"strength", label:"Strength session (kettlebell/dumbbells)" },
              { id:"cardio", label:"15–20 min treadmill intervals or steady pace" },
              { id:"stretch", label:"5 min cooldown + stretch" }
            ]
          },
          {
            title: "Hydration & Habits", badge: "health",
            items: [
              { id:"water70", label:"Water: 70–90 oz" },
              { id:"steps7k", label:"7–8k steps total (include walks)" },
              { id:"sleep7h", label:"Sleep: target 7+ hours" }
            ]
          }
        ]
      }
    };

    // === UTILITIES ===
    const todayISO = new Date().toISOString().slice(0,10); // YYYY-MM-DD
    const dateNice = new Date().toLocaleDateString(undefined, { weekday:'long', month:'long', day:'numeric' });
    document.getElementById('today').textContent = `${dateNice} • Auto-resets daily`;

    function storageKey(person, id){
      return `tracker:${person}:${todayISO}:${id}`;
    }

    function get(person, id){
      return localStorage.getItem(storageKey(person,id)) === '1';
    }
    function set(person, id, value){
      localStorage.setItem(storageKey(person,id), value ? '1' : '0');
    }
    function clearToday(person){
      const prefix = `tracker:${person}:${todayISO}:`;
      Object.keys(localStorage).forEach(k=>{ if(k.startsWith(prefix)) localStorage.removeItem(k); });
    }

    // Render a section with checkboxes
    function renderSection(personKey, section){
      const details = document.createElement('details');
      details.open = true;
      const summary = document.createElement('summary');
      summary.innerHTML = `<span>${section.title}</span><span class="badge">${section.badge}</span>`;
      const content = document.createElement('div');
      content.className = 'content';
      const list = document.createElement('div');
      list.className = 'checklist';

      section.items.forEach(item => {
        const row = document.createElement('div');
        row.className = 'item';
        const cb = document.createElement('input');
        cb.type = 'checkbox';
        cb.id = `${personKey}-${item.id}`;
        cb.checked = get(personKey, item.id);
        cb.addEventListener('change', ()=> set(personKey, item.id, cb.checked));
        const label = document.createElement('label');
        label.setAttribute('for', cb.id);
        label.textContent = item.label;
        row.appendChild(cb); row.appendChild(label);
        list.appendChild(row);
      });

      content.appendChild(list);
      details.appendChild(summary);
      details.appendChild(content);
      return details;
    }

    function renderGrid(personKey, mountId, config){
      const mount = document.getElementById(mountId);
      mount.innerHTML = '';
      config.sections.forEach(sec => mount.appendChild(renderSection(personKey, sec)));
    }

    // Initial render
    renderGrid('zach', 'grid-zach', CONFIG.zach);
    renderGrid('kim', 'grid-kim', CONFIG.kim);

    // Tabs handling
    const tabs = Array.from(document.querySelectorAll('.tab'));
    function selectTab(id){
      tabs.forEach(t=>{
        const selected = t.id === id;
        t.setAttribute('aria-selected', selected);
        const panelId = t.getAttribute('aria-controls');
        document.getElementById(panelId).hidden = !selected;
      });
    }
    document.getElementById('tab-zach').addEventListener('click', ()=> selectTab('tab-zach'));
    document.getElementById('tab-kimberly').addEventListener('click', ()=> selectTab('tab-kimberly'));

    // Reset & expand/collapse controls
    document.querySelector('[data-reset="zach"]').addEventListener('click', ()=>{ clearToday('zach'); renderGrid('zach','grid-zach',CONFIG.zach); });
    document.querySelector('[data-reset="kim"]').addEventListener('click', ()=>{ clearToday('kim'); renderGrid('kim','grid-kim',CONFIG.kim); });

    function setAllDetails(personKey, open){
      const grid = document.getElementById(personKey === 'zach' ? 'grid-zach' : 'grid-kim');
      grid.querySelectorAll('details').forEach(d => d.open = open);
    }
    document.querySelector('[data-expand="zach"]').addEventListener('click', ()=> setAllDetails('zach', true));
    document.querySelector('[data-collapse="zach"]').addEventListener('click', ()=> setAllDetails('zach', false));
    document.querySelector('[data-expand="kim"]').addEventListener('click', ()=> setAllDetails('kim', true));
    document.querySelector('[data-collapse="kim"]').addEventListener('click', ()=> setAllDetails('kim', false));

    // Accessibility: keyboard arrow keys to switch tabs
    tabs.forEach((t, idx)=>{
      t.addEventListener('keydown', (e)=>{
        if(e.key === 'ArrowRight' || e.key === 'ArrowLeft'){
          e.preventDefault();
          const next = e.key === 'ArrowRight' ? (idx+1)%tabs.length : (idx-1+tabs.length)%tabs.length;
          tabs[next].focus(); selectTab(tabs[next].id);
        }
      })
    });
  </script>
</body>
</html>
